    {{name}}.vm.box = "{{ box }}-pfe"
    {{name}}.vm.guest = :freebsd
    {{name}}.vm.boot_timeout = 360
    {{name}}.ssh.insert_key = false
    {{name}}.ssh.username = "tc"
    
    {{name}}.vm.synced_folder '.', '/vagrant', disabled: true
    
    {{name}}.vm.provider :libvirt do |domain|
      domain.cpus = 2
      domain.memory = 2048
      domain.nic_model_type = "e1000"
    end
    
    # First Virtual Network, link to RE
    {{name}}.vm.network :private_network,
                  :libvirt__tunnel_type => "udp",
                  :libvirt__tunnel_local_ip => "127.2.{{ n.id }}.1",
                  :libvirt__tunnel_local_port => "{{ 20000 + n.id }}",
                  :libvirt__tunnel_ip => "127.2.{{ n.id }}.2",
                  :libvirt__tunnel_port => "{{ 20100 + n.id  }}",
                  :libvirt__iface_name => "vgif_{{name}}_pfe",
                  auto_config: false
  end

  config.vm.define "{{ name }}_re" do |{{name}}|
    {{name}}.vm.provider :libvirt do |domain|
      domain.management_network_mac = "08-4F-A9-00-00-01"
      domain.qemu_use_session = false
    end
    
    {{name}}.vm.box = "{{ box }}-re"
    {{name}}.vm.guest = :freebsd
    {{name}}.vm.boot_timeout = 360
    {{name}}.ssh.insert_key = false
    
    {{name}}.vm.synced_folder '.', '/vagrant', disabled: true
    
    {{name}}.vm.provider :libvirt do |domain|
      domain.cpus = 2
      domain.memory = 2048
      domain.nic_model_type = "virtio-net-pci"
    end
    
    # First Virtual Network, link to PFE
    {{name}}.vm.network :private_network,
                  :libvirt__tunnel_type => "udp",
                  :libvirt__tunnel_local_ip => "127.2.{{ n.id }}.2",
                  :libvirt__tunnel_local_port => "{{ 20100 + n.id }}",
                  :libvirt__tunnel_ip => "127.2.{{ n.id }}.1",
                  :libvirt__tunnel_port => "{{ 20000 + n.id }}",
                  :libvirt__iface_name => "vgif_{{name}}_re_1",
                  auto_config: false

    # Additional UNUSED PORT
    {{name}}.vm.network :private_network,
                  :libvirt__tunnel_type => "udp",
                  :libvirt__tunnel_local_ip => "127.2.{{ n.id }}.3",
                  :libvirt__tunnel_local_port => "{{ 20200 + n.id }}",
                  :libvirt__tunnel_ip => "127.2.{{ n.id }}.4",
                  :libvirt__tunnel_port => "{{ 20200 + n.id }}",
                  :libvirt__iface_name => "vgif_{{name}}_re_2",
                  auto_config: false

